rosinit('http://localhost:11311');
tf_sub = rossubscriber('/tf');
image_sub = rossubscriber('/tag_detections_image');

while true
    msg = receive(tf_sub, 10); % 10 s timeout until message
    quat = msg.Transforms.Transform.Rotation;
    rotm = quat2rotm([quat.W quat.X quat.Y quat.Z]);
    eul = quat2eul([quat.W quat.X quat.Y quat.Z]);
    deg = rad2deg(rotm);
    pause
end


sub_detections = rossubscriber('/tag_detections_image');
image = receive(sub_detections, 10);
img = readImage(image);
imshow(img);
